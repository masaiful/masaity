<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{{ renderData.title or title }} | fotis.xyz</title>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" href="/img/favicon-128x128.png" sizes="128x128">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.shortTitle }}">

    {% include "meta.njk" %}
    <meta name="theme-color" content="#1a1a1a">
    {% include "webmention.njk" %}

    {# Preload variable font. Browsers with preload also support variable fonts, so this is a good balance.
      Fonts are loaded with crossorigin anonymous because of browser behaviour.
    #}
    <link rel="preload" href="{{ '/fonts/phantom-sans-v4-variable.woff2' | url}}" as="font" type="font/woff2" crossorigin>

    <link rel="stylesheet" href="{{ '/css/index.css' | resolveHash | url }}">
  </head>
  <body class="pa3 flex db-p flex-column min-vh-100 mw7 center f5 theme-light fg-primary bg-secondary f-phantomsans">
    <header>
      {% include "SkipLink.njk" %}
      <nav class="mn2 f5 f4-ns flex flex-row justify-between items-end flex-wrap">
        <div class="ma2 flex items-end">
          <div class="w2 h2">
          {% include "svg/lightbulb.svg" %}
          </div>
          <a class="ml2 db fg-accent-lighter fw6 link enhanced-outline animation-cycle animate-me" href="{{ '/' | url }}">{{ metadata.shortTitle }}</a>
        </div>
        <div class="ma2">
          <ul class="mn2 pa0 flex list hide-print">
            {%- for nav in collections.nav | reverse -%}
              {# Do not add home to the navigation #}
              {% if nav.url !== '/' %}
              <li class="db ma2 {% if nav.url == page.url %} fw7{% endif %}">
                <a
                  {% if nav.url == page.url %}aria-current="page"{% endif %}
                  class="fg-primary hover-fg-accent-lighter enhanced-outline link"
                  href="{{ nav.url | url }}">
                    {{ nav.data.navtitle }}
                </a>
              </li>
              {% endif %}
            {%- endfor -%}
          </ul>
        </div>
      </nav>
    </header>

    <main id="main" class="flex db-p flex-column flex-grow-1 {% if templateClass %}{{ templateClass }}{% endif %}" style="outline: none;">
      {{ content | safe }}
    </main>

    <footer class="mt5 hide-print">
      <div class="vs2 f5 f4-ns lh-copy">
        <p class="mv0">
          Made by Fotis Papadogeorgopoulos,
          ({% Link href='https://twitter.com/isfotis', isExternal=true %}
          @isfotis
          {% endLink %})
        </p>
        <p class="mv0">
        {% Link href='https://github.com/fpapado/fotis.xyz', isExternal=true %}
          Source on Github
        {% endLink %}
        </p>
      </div>
    </footer>

    <script src="{{ '/js/index.js' | resolveHash | url}}" defer></script>

    {# Inline Service Worker registration in production #}
    {% if env.environment == "production" %}
      <script>
        {% include "sw-inline.js" %}
      </script>
    {% endif %}
  </body>
</html>
